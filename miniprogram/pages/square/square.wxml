<view class="square-container">
    <!-- Â§¥ÈÉ® -->
    <view class="header">
        <view class="app-name">ÂπøÂú∫</view>
        <view class="location-icon">
            <image src="/assets/icons/ditu.svg" class="location-icon-image" />
            <span class="location-text">{{schoolName}}</span>
        </view>
    </view>

    <!-- Â∫ïÈÉ®ÂØºËà™Êù° -->
    <view class="top-bar">
        <!-- Â∑¶‰æßÊªëÂä®ÂàÜÁ±ª -->
        <scroll-view class="category-scroll" scroll-x="true">
            <view wx:for="{{categories}}" wx:key="index" class="category-item {{selectedCategory === item ? 'active' : ''}}" bindtap="selectCategory" data-category="{{item}}">
                {{item}}
            </view>
        </scroll-view>

        <!-- Âè≥‰æßÁ≠æÂà∞ÊåâÈíÆ (ÁÇπÂáªÂàáÊç¢ÂõæÁâá) -->
        <image src="{{checkinIcon}}" class="checkin" bindtap="handleCheckIn"/>
    </view>
    <!-- Âä®ÊÄÅÂÜÖÂÆπÂ±ïÁ§∫Âå∫ -->
    <view class="content">
    <block wx:for="{{posts}}" wx:key="post_id">
        <view class="post-card">
            <!-- Áî®Êà∑‰ø°ÊÅØ -->
            <view class="post-header">
                <image class="user-avatar" src="{{item.user_avatar}}" />
                <text class="username">{{item.username}}</text>
                <text class="post-time">{{item.timestamp}}</text>
            </view>

            <!-- ÊñáÂ≠óÂÜÖÂÆπ -->
            <view class="post-text">{{item.content}}</view>

            <!-- ÂõæÁâáÂÜÖÂÆπÔºàÂ¶ÇÊûúÊúâÔºâ -->
            <block wx:if="{{item.images.length > 0}}">
                <scroll-view class="image-scroll" scroll-x="true">
                    <image wx:for="{{item.images}}" wx:key="index" src="{{item}}" class="post-image" mode="aspectFill"/>
                </scroll-view>
            </block>

            <!-- ÁÇπËµû & ËØÑËÆ∫ -->
            <view class="post-footer">
                <text class="likes">‚ù§Ô∏è {{item.likes}}</text>
                <text class="comments">üí¨ {{item.comments}}</text>
            </view>
        </view>
    </block>
</view>

    <!-- Â∫ïÈÉ®ÂØºËà™ -->
    <bottom-nav></bottom-nav>
</view>